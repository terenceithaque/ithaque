<html>
  <head>
    <meta charset="UTF-8" />
    <title>Settings</title>
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/confirm.css" />
    <script src="js/langue.js"></script>
    <!--<script src="js/cookie.js"></script>-->
  </head>
  <body>
    <header>
      <h1><a href="index.html">terenceithaque</a></h1>
      <div class="header-right">
        <a href="https://github.com/terenceithaque/ithaque"
          ><img
            class="githubimage"
            src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fpngimg.com%2Fuploads%2Fgithub%2Fgithub_PNG40.png&f=1&nofb=1"
        /></a>
      </div>
    </header>
    <p>Site language</p>
    <select id="language-selector">
      <option value="en">English</option>
      <option value="fr">Français</option>
    </select>

    <script src="../js/returnhomepage.js"></script>

    <script src="../js/confirm.js"></script>

    <script>
      let lang = window.localStorage.getItem("language") || "fr";

      let elCurrentOption = document.querySelector(
        "#language-selector > option[value='" + lang + "']"
      );

      elCurrentOption.setAttribute("selected", "true");

      console.log(elCurrentOption);
      let elLanguageSelector = document.querySelector("#language-selector");
      elLanguageSelector.addEventListener("change", changeLanguage);

      function changeLanguage() {
        lang = elLanguageSelector.value;
        window.localStorage.setItem("language", lang); // language peut être soit "en" soit "fr"

        if (lang === "fr") {
          window.location = "index.html";
        } else if (lang === "en") {
          window.location = "english/index.html";
        }
      }
    </script>
  </body>
</html>
