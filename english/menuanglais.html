<html>
  <head>
    <meta charset="UTF-8" />
    <title>Settings</title>
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <link rel="stylesheet" href="../css/global.css" />
    <link rel="stylesheet" href="../css/confirm.css" />
    <script src="../js/langue.js"></script>
    <!--<script src="js/cookie.js"></script>-->
  </head>
  <body>
    <header>
      <h1><a href="index.html">terenceithaque</a></h1>
      <div class="header-right">
        <a href="https://github.com/terenceithaque/ithaque">
          <img
            class="githubimage"
            src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fpngimg.com%2Fuploads%2Fgithub%2Fgithub_PNG40.png&f=1&nofb=1"
        /></a>
        <a
          href="https://www.google.com/maps/place/Ithaque/@38.4018013,20.5507168,11z/data=!3m1!4b1!4m5!3m4!1s0x135d952249df9f5f:0x6acd8d9ffb56445a!8m2!3d38.4284603!4d20.6764877"
        >
          <img
            class="googlemapslink"
            src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fstatic.vecteezy.com%2Fsystem%2Fresources%2Fpreviews%2F000%2F437%2F234%2Foriginal%2Fglobe-vector-icon.jpg&f=1&nofb=1"
        /></a>
        <!--<img class="night" src="images/moon.jpg" />-->
      </div>
    </header>
    <p>Site language</p>
    <select id="language-selector">
      <option value="en">English</option>
      <option value="fr">Français</option>
    </select>

    <p>Background color</p>
    <p>Change Background color</p>
    <p>
      <button class="goldbutton">Gold</button>
      <button class="greenbutton">Green</button>
      <button class="chocolatebutton">Chocolate</button>
      <button class="coralbutton">Coral</button>
      <button class="originalbutton">Original</button>
    </p>

    <p>Local storage datas</p>
    <p>
      This site saves datas on your device (computer, smartphone,...) in order
      to do things like displaying configured background color for upcoming
      sessions. But, whenever you want, you can remove these datas. You will
      need to reload this page for suppression to be visible.
    </p>

    <button class="data-remove">Remove all local storage datas</button>

    <script src="../js/returnhomepage.js"></script>

    <script src="../js/confirm.js"></script>
    <script src="../js/couleur.js"></script>

    <script>
      couleur();
      let lang = window.localStorage.getItem("language") || "fr";

      let elCurrentOption = document.querySelector(
        "#language-selector > option[value='" + lang + "']"
      );

      elCurrentOption.setAttribute("selected", "true");

      console.log(elCurrentOption);
      let elLanguageSelector = document.querySelector("#language-selector");
      elLanguageSelector.addEventListener("change", changeLanguage);

      function changeLanguage() {
        lang = elLanguageSelector.value;
        window.localStorage.setItem("language", lang); // language peut être soit "en" soit "fr"

        if (lang === "en") {
          window.location = "english/index.html";
        } else if (lang === "fr") {
          window.location = "../index.html";
        }
      }
      function themeOr() {
        window.localStorage.setItem("couleur", "or");
        couleur();
      }
      function themeVert() {
        window.localStorage.setItem("couleur", "vert");
        couleur();
      }
      function themeOriginal() {
        window.localStorage.setItem("couleur", "original");
        couleur();
      }

      function themeChocolat() {
        window.localStorage.setItem("couleur", "chocolat");
        couleur();
      }

      function themeCoral() {
        window.localStorage.setItem("couleur", "corallien");
        couleur();
      }

      elBoutonOr = document.querySelector(".goldbutton");
      elBoutonOr.addEventListener("click", themeOr);

      elBoutonVert = document.querySelector(".greenbutton");
      elBoutonVert.addEventListener("click", themeVert);

      elBoutonOriginal = document.querySelector(".originalbutton");
      elBoutonOriginal.addEventListener("click", themeOriginal);

      let elBoutonChocolat = document.querySelector(".chocolatebutton");
      elBoutonChocolat.addEventListener("click", themeChocolat);

      let elBoutonCoral = document.querySelector(".coralbutton");
      elBoutonCoral.addEventListener("click", themeCoral);

      let elButtonDataRemove = document.querySelector(".data-remove");
      elButtonDataRemove.addEventListener("click", removeData);

      function removeData() {
        // Effacer les données de stockage local
        window.localStorage.removeItem("couleur", "language");
        // console.log("Données effacées !");
      }
    </script>
  </body>
</html>
