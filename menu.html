<html>
  <head>
    <meta charset="UTF-8" />
    <title>Menu</title>
    <meta content="width=device-width,initial-scale=1" name="viewport" />
    <link rel="stylesheet" href="css/global.css" />
    <link rel="stylesheet" href="css/confirm.css" />
    <script src="js/langue.js"></script>
    <!--<script src="js/cookie.js"></script>-->
  </head>
  <body>
    <header>
      <h1><a href="index.html">terenceithaque</a></h1>
      <div class="header-right">
        <a href="https://github.com/terenceithaque/ithaque">
          <img
            class="githubimage"
            src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fpngimg.com%2Fuploads%2Fgithub%2Fgithub_PNG40.png&f=1&nofb=1"
        /></a>
      </div>
    </header>
    <p>Langue du site</p>
    <select id="language-selector">
      <option value="en">English*</option>
      <option value="fr">Français</option>
    </select>

    <p>
      *Partiellement traduit avec DeepL. La traduction peut être incorrecte.
    </p>
    <p>*Partly translated with DeepL. The translation is maybe inccorect.</p>

    <p>Couleur de fond</p>
    <p>Changer la couleur de fond</p>
    <p>
      <button class="goldbutton">Or</button>
      <button class="greenbutton">Vert</button>
      <button class="chocolatebutton">Chocolat</button>
      <button class="coralbutton">Corallien</button>
      <button class="originalbutton">Original</button>
    </p>

    <p>Données de stockage local</p>
    <p>
      Ce site enregistre des données sur votre appareil (ordinateur,
      smartphone,...), notamment pour afficher la couleur de fond configurée
      lors des prochaines visites. Vous pouvez cependant supprimer ces données.
      Il faudra recharger la page pour que la suppression soit visible.
    </p>

    <button class="data-remove">Supprimer les données de stockage local</button>

    <!--<p>Mode nuit</p>
    <p>
      Vous regardez ce site à une heure tardive ? Le mode nuit préserve votre
      vision en mettant un thème sombre au site.
    </p>
    <select id="mode">
      <option value="day" selected>Jour (Désactivé)</option>
      <option value="night">Nuit (Activé)</option>
    </select>-->

    <script src="js/returnhomepage.js"></script>
    <script src="js/confirm.js"></script>
    <script src="js/couleur.js"></script>
    <script>
      couleur();
      let lang = window.localStorage.getItem("language") || "fr";

      let elCurrentOption = document.querySelector(
        "#language-selector > option[value='" + lang + "']"
      );

      elCurrentOption.setAttribute("selected", "true");

      console.log(elCurrentOption);
      let elLanguageSelector = document.querySelector("#language-selector");
      elLanguageSelector.addEventListener("change", changeLanguage);

      function changeLanguage() {
        lang = elLanguageSelector.value;
        window.localStorage.setItem("language", lang); // language peut être soit "en" soit "fr"

        if (lang === "en") {
          window.location = "english/index.html";
        } else if (lang === "fr") {
          window.location = "../index.html";
        }
      }
      function themeOr() {
        window.localStorage.setItem("couleur", "or");
        couleur();
      }
      function themeVert() {
        window.localStorage.setItem("couleur", "vert");
        couleur();
      }

      function themeOriginal() {
        window.localStorage.setItem("couleur", "original");
        couleur();
      }
      function themeChocolat() {
        window.localStorage.setItem("couleur", "chocolat");
        couleur();
      }

      function themeCoral() {
        window.localStorage.setItem("couleur", "corallien");
        couleur();
      }
      let elBoutonOr = document.querySelector(".goldbutton");
      elBoutonOr.addEventListener("click", themeOr);

      let elBoutonVert = document.querySelector(".greenbutton");
      elBoutonVert.addEventListener("click", themeVert);

      let elBoutonOriginal = document.querySelector(".originalbutton");
      elBoutonOriginal.addEventListener("click", themeOriginal);

      let elBoutonChocolat = document.querySelector(".chocolatebutton");
      elBoutonChocolat.addEventListener("click", themeChocolat);

      let elBoutonCoral = document.querySelector(".coralbutton");
      elBoutonCoral.addEventListener("click", themeCoral);

      //let elMode = document.getElementById("mode");
      //elMode.addEventListener("change", changeMode);

      function changeMode(e) {
        value = e.target.value;
        window.localStorage.setItem("mode", value);
        if (value === "night") {
        }
      }

      let value = window.localStorage.getItem("mode") || "day";

      let elButtonDataRemove = document.querySelector(".data-remove");
      elButtonDataRemove.addEventListener("click", removeData);

      function removeData() {
        // Effacer les données de stockage local
        window.localStorage.removeItem("couleur", "language");
        // console.log("Données effacées !");
      }
    </script>
    <script src="js/nightmode.js"></script>
  </body>
</html>
